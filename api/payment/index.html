<!doctype html><html lang=en class="js csstransforms3d">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.91.2">
<meta name=description content>
<link rel=icon href=/pirate-btcpay/images/favicon.png type=image/png>
<title>Payment :: Pirate BTCPay Server</title>
<link href=/pirate-btcpay/css/nucleus.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/css/fontawesome-all.min.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/css/hybrid.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/css/featherlight.min.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/css/perfect-scrollbar.min.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/css/auto-complete.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/css/atom-one-dark-reasonable.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/css/theme.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/css/tabs.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/css/hugo-theme.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/css/theme-blue.css?1662469119 rel=stylesheet>
<link href=/pirate-btcpay/common.css?1662469119 rel=stylesheet>
<script src=/pirate-btcpay/js/jquery-3.3.1.min.js?1662469119></script>
<style>:root #header+#content>#left>#rlblock_left{display:none!important}</style>
</head>
<body data-url=/pirate-btcpay/api/payment/>
<nav id=sidebar class=showVisitedLinks>
<div id=header-wrapper>
<div id=header>
<a id=logo href=https://hhanh01.github.io/pirate-btcpay/>
<img srcset="https://hhanh01.github.io/pirate-btcpay//logo.png 6x">
</a>
</div>
<div class=searchbox>
<label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span>
</div>
<script type=text/javascript src=/pirate-btcpay/js/lunr.min.js?1662469119></script>
<script type=text/javascript src=/pirate-btcpay/js/auto-complete.js?1662469119></script>
<script type=text/javascript>var baseurl="https://hhanh01.github.io/pirate-btcpay/"</script>
<script type=text/javascript src=/pirate-btcpay/js/search.js?1662469119></script>
</div>
<div class=highlightable>
<ul class=topics>
<li data-nav-id=/pirate-btcpay/installation/ title=Installation class=dd-item>
<a href=/pirate-btcpay/installation/>
<b>1. </b>Installation
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/pirate-btcpay/installation/requirements/ title=Requirements class=dd-item>
<a href=/pirate-btcpay/installation/requirements/>
Requirements
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/pirate-btcpay/installation/build/ title=Build class=dd-item>
<a href=/pirate-btcpay/installation/build/>
Build
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/pirate-btcpay/installation/usage/ title=Usage class=dd-item>
<a href=/pirate-btcpay/installation/usage/>
Usage
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/pirate-btcpay/api/ title=API class="dd-item
parent">
<a href=/pirate-btcpay/api/>
<b>2. </b>API
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/pirate-btcpay/api/accounts/ title=Accounts class=dd-item>
<a href=/pirate-btcpay/api/accounts/>
Accounts
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/pirate-btcpay/api/status/ title="Server Status" class=dd-item>
<a href=/pirate-btcpay/api/status/>
Server Status
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/pirate-btcpay/api/scan/ title=Scan class=dd-item>
<a href=/pirate-btcpay/api/scan/>
Scan
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/pirate-btcpay/api/payment/ title=Payment class="dd-item active">
<a href=/pirate-btcpay/api/payment/>
Payment
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
</ul>
<section id=prefooter>
<hr>
<ul>
<li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li>
</ul>
</section>
<section id=footer>
<p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p>
</section>
</div>
</nav>
<section id=body>
<div id=overlay></div>
<div class="padding highlightable">
<div>
<div id=top-bar>
<div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb>
<span id=sidebar-toggle-span>
<a href=# id=sidebar-toggle data-sidebar-toggle>
<i class="fas fa-bars"></i>
</a>
</span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>
<a href=/pirate-btcpay/>BTCPay Server</a> > <a href=/pirate-btcpay/api/>API</a> > Payment
</span>
</div>
<div class=progress>
<div class=wrapper>
<nav id=TableOfContents>
<ul>
<li><a href=#fee-estimate>Fee Estimate</a></li>
<li><a href=#get-transaction-by-id>Get transaction by ID</a></li>
<li><a href=#get-all-transactions>Get all transactions</a></li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<div id=head-tags>
</div>
<div id=body-inner>
<h1>
Payment
</h1>
<h2 id=fee-estimate>Fee Estimate</h2>
<p>For shielded payments, the fee is 0.01 m</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>it</span>(<span style=color:#e6db74>&#34;Get fee estimate&#34;</span>, <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> () {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rep</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>chakram</span>.<span style=color:#a6e22e>post</span>(<span style=color:#e6db74>&#39;http://localhost:8000/get_fee_estimate&#39;</span>, {})
    <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>rep</span>).<span style=color:#a6e22e>to</span>.<span style=color:#a6e22e>have</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>200</span>)
    <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>rep</span>.<span style=color:#a6e22e>body</span>).<span style=color:#a6e22e>to</span>.<span style=color:#a6e22e>deep</span>.<span style=color:#a6e22e>equal</span>({
        <span style=color:#e6db74>&#34;fee&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1000</span>
    })
})
</code></pre></div><h2 id=get-transaction-by-id>Get transaction by ID</h2>
<p>Given a tx ID and account index, return the transaction details</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>it</span>(<span style=color:#e6db74>&#34;Get transfer by id&#34;</span>, <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> () {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rep</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>chakram</span>.<span style=color:#a6e22e>post</span>(<span style=color:#e6db74>&#39;http://localhost:8000/get_transfer_by_txid&#39;</span>, {
        <span style=color:#a6e22e>txid</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;80ce417f3984ba936f344c4b2c9737740604767f5ac34a2c130925b015637835&#34;</span>,
        <span style=color:#a6e22e>account_index</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>
    })
    <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>rep</span>).<span style=color:#a6e22e>to</span>.<span style=color:#a6e22e>have</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>200</span>)
    <span style=color:#66d9ef>delete</span>(<span style=color:#a6e22e>rep</span>.<span style=color:#a6e22e>body</span>.<span style=color:#a6e22e>transfer</span>.<span style=color:#a6e22e>confirmations</span>)
    <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>rep</span>.<span style=color:#a6e22e>body</span>).<span style=color:#a6e22e>to</span>.<span style=color:#a6e22e>deep</span>.<span style=color:#a6e22e>equal</span>({
        <span style=color:#e6db74>&#34;transfer&#34;</span><span style=color:#f92672>:</span> {
            <span style=color:#e6db74>&#34;address&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;zs1xflcmxuagwwn969htsej4mn3nuk7e3eeu3en4n4hkxajnqgmx5jsw0sa4p0r2ymqewf2ufefkfm&#34;</span>,
            <span style=color:#e6db74>&#34;amount&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>99500000</span>,
            <span style=color:#e6db74>&#34;height&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1915516</span>,
            <span style=color:#e6db74>&#34;fee&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
            <span style=color:#e6db74>&#34;note&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
            <span style=color:#e6db74>&#34;payment_id&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
            <span style=color:#e6db74>&#34;subaddr_index&#34;</span><span style=color:#f92672>:</span> {
                <span style=color:#e6db74>&#34;major&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
                <span style=color:#e6db74>&#34;minor&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>
            },
            <span style=color:#e6db74>&#34;suggested_confirmations_threshold&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>6</span>,
            <span style=color:#e6db74>&#34;timestamp&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
            <span style=color:#e6db74>&#34;txid&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;80ce417f3984ba936f344c4b2c9737740604767f5ac34a2c130925b015637835&#34;</span>,
            <span style=color:#e6db74>&#34;type&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;in&#34;</span>,
            <span style=color:#e6db74>&#34;unlock_time&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>
        },
        <span style=color:#e6db74>&#34;transfers&#34;</span><span style=color:#f92672>:</span> []
    })
})
</code></pre></div><h2 id=get-all-transactions>Get all transactions</h2>
<p>For a given account and a set of sub addresses, return all the transactions</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>it</span>(<span style=color:#e6db74>&#34;list transactions&#34;</span>, <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> () {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rep</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>chakram</span>.<span style=color:#a6e22e>post</span>(<span style=color:#e6db74>&#39;http://localhost:8000/get_transfers&#39;</span>, {
        <span style=color:#66d9ef>in</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
        <span style=color:#a6e22e>account_index</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
        <span style=color:#a6e22e>subaddr_indices</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>]
    })
    <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>rep</span>).<span style=color:#a6e22e>to</span>.<span style=color:#a6e22e>have</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>200</span>)
    <span style=color:#66d9ef>delete</span>(<span style=color:#a6e22e>rep</span>.<span style=color:#a6e22e>body</span>.<span style=color:#66d9ef>in</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>confirmations</span>)
    <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>rep</span>.<span style=color:#a6e22e>body</span>).<span style=color:#a6e22e>to</span>.<span style=color:#a6e22e>deep</span>.<span style=color:#a6e22e>equal</span>({
        <span style=color:#e6db74>&#34;in&#34;</span><span style=color:#f92672>:</span> [
            {
                <span style=color:#e6db74>&#34;address&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;zs1xflcmxuagwwn969htsej4mn3nuk7e3eeu3en4n4hkxajnqgmx5jsw0sa4p0r2ymqewf2ufefkfm&#34;</span>,
                <span style=color:#e6db74>&#34;amount&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>99500000</span>,
                <span style=color:#e6db74>&#34;height&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1915516</span>,
                <span style=color:#e6db74>&#34;fee&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
                <span style=color:#e6db74>&#34;note&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
                <span style=color:#e6db74>&#34;payment_id&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
                <span style=color:#e6db74>&#34;subaddr_index&#34;</span><span style=color:#f92672>:</span> {
                    <span style=color:#e6db74>&#34;major&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
                    <span style=color:#e6db74>&#34;minor&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>
                },
                <span style=color:#e6db74>&#34;suggested_confirmations_threshold&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>6</span>,
                <span style=color:#e6db74>&#34;timestamp&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
                <span style=color:#e6db74>&#34;txid&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;80ce417f3984ba936f344c4b2c9737740604767f5ac34a2c130925b015637835&#34;</span>,
                <span style=color:#e6db74>&#34;type&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;in&#34;</span>,
                <span style=color:#e6db74>&#34;unlock_time&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>
            }
        ]
    })
})
</code></pre></div>
<footer class=footline>
</footer>
</div>
</div>
<div id=navigation>
<a class="nav nav-prev" href=/pirate-btcpay/api/scan/ title=Scan> <i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/pirate-btcpay/api/accounts/ title=Accounts style=margin-right:0><i class="fa fa-chevron-right"></i></a>
</div>
</section>
<div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px>
<div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div>
</div>
<script src=/pirate-btcpay/js/clipboard.min.js?1662469119></script>
<script src=/pirate-btcpay/js/perfect-scrollbar.min.js?1662469119></script>
<script src=/pirate-btcpay/js/perfect-scrollbar.jquery.min.js?1662469119></script>
<script src=/pirate-btcpay/js/jquery.sticky.js?1662469119></script>
<script src=/pirate-btcpay/js/featherlight.min.js?1662469119></script>
<script src=/pirate-btcpay/js/highlight.pack.js?1662469119></script>
<script>hljs.initHighlightingOnLoad()</script>
<script src=/pirate-btcpay/js/modernizr.custom-3.6.0.js?1662469119></script>
<script src=/pirate-btcpay/js/learn.js?1662469119></script>
<script src=/pirate-btcpay/js/hugo-learn.js?1662469119></script>
<script src=/pirate-btcpay/mermaid/mermaid.js?1662469119></script>
<script>mermaid.initialize({startOnLoad:!0})</script>
</body>
</html>